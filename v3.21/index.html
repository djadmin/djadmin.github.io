<html>
<body>
<h1>CodeMirror Gutter Drop Bug</h1>
  
<p> 
    <!-- <link rel="stylesheet" href="http://codemirror.net/lib/codemirror.css">
    <script src="http://codemirror.net/lib/codemirror.js"></script>
    <script src="http://codemirror.net/addon/edit/matchbrackets.js"></script>
    <script src="http://codemirror.net/mode/javascript/javascript.js"></script>
     --> 
     <link rel="stylesheet" href="lib/codemirror.css">
    <script src="lib/codemirror.js"></script>
       
<div>
<textarea rows="4" cols="50" name="codesnippet_editable" id="codesnippet_editable">
</textarea>

</div>
<script>
window.onload = function () {
  
    var editor = CodeMirror.fromTextArea(document.getElementById('codesnippet_editable'), {
        theme: "default",
        lineNumbers: true,
        gutters:["mygutter"]
    });

 editor.on("dragenter",function(editor,e){ 
     editor.clearGutter("mygutter");
     console.log("drag");
     var pos = editor.coordsChar({left: e.x, top: e.pageY});
     var line = pos.line, ch = pos.ch;
     console.log(line);
     editor.setGutterMarker(line, "mygutter", makeMarker());
			
 });
 editor.on("drop",function(editor,e){ 
     console.log("drop");
 });
function makeMarker() {
	  var marker = document.createElement("div");
	  marker.innerHTML = "-";
	  return marker;
}    
};



</script>
</body>
</html>